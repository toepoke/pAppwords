{
  "$schema": "http://json.schemastore.org/cloudflare-install",
  "resources": {
    "body": [
      {
        "type": "style",
        "src": "./source/app.css"
      },
      {
        "type": "script",
        "src": "./source/app.js"
      },
      {
        "type": "script",
        "src": "./source/deps/js-sha1.js"
      },
      {
        "type": "script",
        "src": "./source/password-checker.js"
      },
      {
        "type": "script",
        "src": "./source/pappwords.js"
      },
      {
        "type": "script",
        "src": "./source/pappwords-modal.js"
      }
    ]
  },
  "preview": {
    "handlers": [
      {
        "options": ["_default"],
        "execute": "INSTALL_SCOPE.setOptions(INSTALL_OPTIONS)"
      }
    ]
  },
  "options": {
    "properties": {
      "message": {
        "order": 1,
        "title": "Breached password message",
        "description": "Message text shown to the user when a breached password is detected.",
        "type": "string",
        "format": "richtext",
        "maxLength": 200,
        "default": "<p>This password has previously appeared in a data breach.</p><p>It has appeared {PRETTY-COUNT} time(s).</p><p>Please use a more secure alternative.</p>"
      },
      "preventSubmit": {
        "order": 2,
        "title": "Warn only",
        "description": "Only warn the user if their password is breached (i.e. don't stop them using the password).",
        "type": "boolean"
      },
      "clearPasswords": {
        "order": 3,
        "title": "Clear password fields",
        "description": "If a password is breached, the password field is cleared, forcing the user to type a new, more secure password.",
        "type": "boolean"
      },
      "failurePercentage": {
        "order": 4,
        "title": "Aggression",
        "description": "How aggressive Pappwords should be when deciding to prevent the user continuing with a breached password.",
        "type": "number",
        "format": "radios",
        "default": "33",
        "enum": ["10", "33", "50", "100"],
        "enumNames": {
          "10": "High",
          "33": "Medium (default)",
          "100": "Low"
        }
      }
    }
  }
}
